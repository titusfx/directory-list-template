<!-- Header-->
<app-header id="top"></app-header>

<!-- Page container-->
<div class="container content-overlay mt-5 mb-md-4 py-5">
  <!-- Breadcrumb-->
  <app-breadcrumbs [breadcrumbItems]="breadCrumbItems"></app-breadcrumbs>

  <div class="row">
    <!-- Content-->
    <div class="col-lg-8 order-lg-2 mb-5">
      <!-- Job list-->
      <div class="d-sm-flex align-items-center justify-content-between pb-4 mb-sm-2">
        <h1 class="h3 mb-sm-0 me-sm-3">Job openings</h1>
        <div class="d-flex align-items-center">
          <label class="fs-sm me-2 pe-1 text-nowrap" for="sorting"><i class="fi-arrows-sort mt-n1 me-2"></i>Sort by:</label>
          <select class="form-select form-select-sm" id="sorting" (click)="SortFilter();">
            <option>Newest</option>
            <option value="Atitle">Popular</option>
            <option value="Atitle">Highest Salary</option>
          </select>
        </div>
      </div>
      <!-- Item-->
      <div class="card bg-secondary card-hover mb-2" *ngFor="let data of listData | sortBy:sortBy:sortField">
        <div class="card-body">
          <div class="d-flex justify-content-between align-items-start mb-2">
            <div class="d-flex align-items-center">
              <img class="me-2" src="{{data.image}}" width="24" alt="Zalo Logo">
              <span class="fs-sm text-dark opacity-80 px-1">{{data.sub_title}}</span>
              <span class="badge bg-faded-{{data.btn_color}} rounded-pill fs-sm ms-2">{{data.btn}}</span>
            </div>
            <div class="dropdown content-overlay" ngbDropdown>
              <button class="btn btn-icon btn-light btn-xs rounded-circle shadow-sm arrow-none" type="button" id="contextMenu1" data-bs-toggle="dropdown" aria-expanded="false" ngbDropdownToggle><i class="fi-dots-vertical"></i></button>
              <ul class="dropdown-menu dropdown-menu-end my-1" aria-labelledby="contextMenu1" ngbDropdownMenu>
                <li>
                  <button class="dropdown-item" type="button"><i class="fi-heart opacity-60 me-2"></i>Add to Saved Jobs</button>
                </li>
                <li>
                  <button class="dropdown-item" type="button"><i class="fi-x-circle opacity-60 me-2"></i>Not interested</button>
                </li>
              </ul>
            </div>
          </div>
          <h3 class="h6 card-title pt-1 mb-3"><a class="text-nav stretched-link text-decoration-none" routerLink="/catalog/single">{{data.title}}</a></h3>
          <div class="fs-sm"><span class="text-nowrap me-3"><i class="fi-map-pin text-muted me-1"> </i>{{data.location}}</span><span class="text-nowrap me-3"><i class="fi-cash fs-base text-muted me-1"></i>{{data.price}}</span></div>
        </div>
      </div>
      <!-- Reviews-->
      <h2 class="h3 pt-4 pt-lg-5 my-4 pb-2">Company reviews (62)</h2>
      <!-- Reviews statistics-->
      <div class="d-flex align-items-center mb-2">
        <div class="text-nowrap fs-sm me-3">5<i class="fi-star text-muted ms-1 mt-n1"></i></div>
        <div class="progress w-100">
          <ngb-progressbar [value]="70" type="warning" class="w-100"></ngb-progressbar>
        </div>
        <div class="flex-shrink-0 flex-grow-1 fs-sm text-end ps-2" style="width: 3rem;">70%</div>
      </div>
      <div class="d-flex align-items-center mb-2">
        <div class="text-nowrap fs-sm me-3">4<i class="fi-star text-muted ms-1 mt-n1"></i></div>
        <div class="progress w-100">
          <ngb-progressbar [value]="15" type="warning" class="w-100"></ngb-progressbar>
        </div>
        <div class="flex-shrink-0 flex-grow-1 fs-sm text-end ps-2" style="width: 3rem;">15%</div>
      </div>
      <div class="d-flex align-items-center mb-2">
        <div class="text-nowrap fs-sm me-3">3<i class="fi-star text-muted ms-1 mt-n1"></i></div>
        <div class="progress w-100">
          <ngb-progressbar [value]="0" type="warning" class="w-100"></ngb-progressbar>
        </div>
        <div class="flex-shrink-0 flex-grow-1 fs-sm text-end ps-2" style="width: 3rem;">0%</div>
      </div>
      <div class="d-flex align-items-center mb-2">
        <div class="text-nowrap fs-sm me-3">2<i class="fi-star text-muted ms-1 mt-n1"></i></div>
        <div class="progress w-100">
          <ngb-progressbar [value]="10" type="warning" class="w-100"></ngb-progressbar>
        </div>
        <div class="flex-shrink-0 flex-grow-1 fs-sm text-end ps-2" style="width: 3rem;">10%</div>
      </div>
      <div class="d-flex align-items-center mb-2">
        <div class="text-nowrap fs-sm me-3">1<i class="fi-star text-muted ms-1 mt-n1"></i></div>
        <div class="progress w-100">
          <ngb-progressbar [value]="5" type="warning" class="w-100"></ngb-progressbar>
        </div>
        <div class="flex-shrink-0 flex-grow-1 fs-sm text-end ps-2" style="width: 3rem;">5%</div>
      </div>
      <!-- Sorting + add review button-->
      <div class="d-flex flex-sm-row flex-column align-items-sm-center align-items-stretch justify-content-between border-bottom py-4 mt-3 mb-4">
        <div class="d-flex align-items-center me-sm-4 mb-sm-0 mb-3">
          <label class="me-2 pe-1 text-nowrap" for="review-sorting"><i class="fi-arrows-sort text-muted mt-n1 me-2"></i>Sort by:</label>
          <select class="form-select" id="review-sorting" (click)="ReviewSortFilter();">
            <option>Newest</option>
            <option value="Atitle">Oldest</option>
            <option value="Dtitle">Popular</option>
            <option value="Arating">High rating</option>
            <option value="Drating">Low rating</option>
          </select>
        </div><a class="btn btn-outline-primary rounded-pill" href="javascript:void(0);" data-bs-toggle="modal" (click)="openModal(reviewContent)"><i class="fi-edit me-1"></i>Add review</a>
      </div>
      <!-- Review-->
      <div class="mb-4 pb-4 border-bottom" *ngFor="let data of reviewData | sortBy:sortReviewBy:sortReviewField">
        <div class="d-flex justify-content-between mb-3">
          <div class="d-flex align-items-center pe-2"><img class="rounded-circle me-1" src="{{data.image}}" width="48" alt="Avatar">
            <div class="ps-2">
              <h6 class="fs-base mb-0">{{data.title}}</h6>
              <span class="star-rating">
                <ngb-rating [rate]="data.rating" [readonly]="true" [max]="5" class="stars"></ngb-rating>
              </span>
            </div>
          </div><span class="text-muted fs-sm">{{data.date}}</span>
        </div>
        <p>{{data.content}}</p>
        <div class="d-flex align-items-center">
          <button class="btn-like" type="button"><i class="fi-like"></i><span>({{data.like}})</span></button>
          <div class="border-end me-1">&nbsp;</div>
          <button class="btn-dislike" type="button"><i class="fi-dislike"></i><span>({{data.unlike}})</span></button>
        </div>
      </div>
      <!-- Pagination-->
      <nav class="mt-2" aria-label="Reviews pagination">
        <ul class="pagination">
          <li class="page-item d-sm-none"><span class="page-link page-link-static">1 / 5</span></li>
          <li class="page-item active d-none d-sm-block" aria-current="page"><span class="page-link">1<span class="visually-hidden">(current)</span></span></li>
          <li class="page-item d-none d-sm-block"><a class="page-link" href="javascript:void(0);">2</a></li>
          <li class="page-item d-none d-sm-block"><a class="page-link" href="javascript:void(0);">3</a></li>
          <li class="page-item d-none d-sm-block">...</li>
          <li class="page-item d-none d-sm-block"><a class="page-link" href="javascript:void(0);">8</a></li>
          <li class="page-item"><a class="page-link" href="javascript:void(0);" aria-label="Next"><i class="fi-chevron-right"></i></a></li>
        </ul>
      </nav>
    </div>
    <!-- Sidebar-->
    <aside class="col-lg-4 order-lg-1 pe-xl-4 mb-5">
      <div class="d-flex align-items-start mb-4"><img src="assets/img/job-board/company/zalo-lg.png" width="56" alt="Zalo Logo">
        <div class="ps-3">
          <h2 class="h4 mb-1">Zalo Tech Company</h2>
          <p class="d-flex align-items-center fs-sm mb-2"><i class="fi-map-pin me-1"></i><span>Chicago, New York, New Jersey</span></p>
          <p class="fs-sm"><a href="javascript:void(0);"><i class="fi-external-link me-2"></i>Visit wesite</a></p>
          <div class="d-flex"><a class="btn btn-icon btn-light-primary btn-xs rounded-circle shadow-sm me-2" href="javascript:void(0);"><i class="fi-facebook"></i></a><a class="btn btn-icon btn-light-primary btn-xs rounded-circle shadow-sm me-2" href="javascript:void(0);"><i class="fi-twitter"></i></a><a class="btn btn-icon btn-light-primary btn-xs rounded-circle shadow-sm me-2" href="javascript:void(0);"><i class="fi-youtube"></i></a><a class="btn btn-icon btn-light-primary btn-xs rounded-circle shadow-sm" href="javascript:void(0);"><i class="fi-linkedin"></i></a></div>
        </div>
      </div>
      <ul class="list-unstyled py-2">
        <li><strong>Category: </strong>Information Technology</li>
        <li><strong>Company size: </strong>more than 5000 employees</li>
        <li><strong>Job openings: </strong>4</li>
      </ul>
      <div class="pb-4 mb-2 mb-sm-3">
        <p class="mb-1">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure.</p>
        <div class="collapse" id="showMore" #seemorecollapse="ngbCollapse" [(ngbCollapse)]="seemoreColleaps">
          <p class="mb-1">Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium dolor laudantium, totam rem aperiam, eaque ipsa quae inventore veritatis. Nemo enim ipsam voluptatem quia voluptas.</p>
        </div><a class="collapse-label collapsed" href="javascript:void(0);" (click)="seemorecollapse.toggle()"
        [attr.aria-expanded]="!seemoreColleaps" data-bs-toggle="collapse" data-bs-label-collapsed="Show more" data-bs-label-expanded="Show less" role="button" aria-expanded="false" aria-controls="showMore"></a>
      </div>
      <div class="card card-body shadow-sm mb-4">
        <h3 class="h4">Don’t miss new job openings by this company!</h3>
        <p class="mb-4">We will send you jobs as soon as they are posted in any category, in any city.</p>
        <form class="form-group rounded-pill">
          <div class="input-group input-group-sm"><span class="input-group-text text-muted"><i class="fi-mail"></i></span>
            <input class="form-control" type="text" placeholder="Your email" required>
          </div>
          <button class="btn btn-primary btn-sm rounded-pill" type="submit">Subscribe</button>
        </form>
        <div class="form-check mt-3">
          <input class="form-check-input" type="checkbox" id="agree-check">
          <label class="form-check-label fs-sm" for="agree-check">I agree to receive communications.</label>
        </div>
      </div>
      <div class="pt-sm-3">
        <div class="card bg-secondary border-0">
          <div class="card-body">
            <h3 class="h4">Professional CV is your ticket to dream job</h3>
            <p class="mb-4">Create a great resume on Finder and take a step toward finding your dream job!</p><a class="btn btn-primary rounded-pill mb-4" routerLink="/account/resume1">Post resume<i class="fi-chevron-right fs-sm ms-2"></i></a>
            <div class="pt-3"><img class="d-block mx-auto" src="assets/img/job-board/illustrations/post-resume-cta.svg" width="288" alt="Illustration"></div>
          </div>
        </div>
      </div>
    </aside>
  </div>

   <!-- Review modal-->

   <ng-template #reviewContent role="document" let-modal>
      <div class="modal-content">
        <div class="modal-header d-block position-relative border-0 pb-0 px-sm-5 px-4">
          <h3 class="modal-title mt-4 text-center">Leave a review</h3>
          <button class="btn-close position-absolute top-0 end-0 mt-3 me-3" type="button" data-bs-dismiss="modal" aria-label="Close" (click)="modal.dismiss('Cross click')"></button>
        </div>
        <div class="modal-body px-sm-5 px-4">
          <form class="needs-validation" novalidate (ngSubmit)="validSubmit()" [formGroup]="validationform">
            <div class="mb-3">
              <label class="form-label" for="review-name">Name <span class='text-danger'>*</span></label>
              <input class="form-control" type="text" id="review-name" placeholder="Your name" required formControlName="name" [ngClass]="{'is-invalid': submit && form['name'].errors}">
              <div class="invalid-feedback">Please let us know your name.</div>
            </div>
            <div class="mb-3">
              <label class="form-label" for="review-email">Email <span class='text-danger'>*</span></label>
              <input class="form-control" type="email" id="review-email" placeholder="Your email address" required formControlName="email" [ngClass]="{'is-invalid': submit && form['email'].errors}">
              <div class="invalid-feedback">Please provide a valid email address.</div>
            </div>
            <div class="mb-3">
              <label class="form-label" for="review-rating">Rating <span class='text-danger'>*</span></label>
              <select class="form-select" id="review-rating" required formControlName="rating" [ngClass]="{'is-invalid': submit && form['rating'].errors}">
                <option value="" selected disabled>Choose rating</option>
                <option value="5 stars">5 stars</option>
                <option value="4 stars">4 stars</option>
                <option value="3 stars">3 stars</option>
                <option value="2 stars">2 stars</option>
                <option value="1 star">1 star</option>
              </select>
              <div class="invalid-feedback">Please rate the property.</div>
            </div>
            <div class="mb-4">
              <label class="form-label" for="review-text">Review <span class='text-danger'>*</span></label>
              <textarea class="form-control" id="review-text" rows="5" placeholder="Your review message" required formControlName="review" [ngClass]="{'is-invalid': submit && form['review'].errors}"></textarea>
              <div class="invalid-feedback">Please write your review.</div>
            </div>
            <button class="btn btn-primary btn-lg d-block w-100 rounded-pill mb-4" type="submit">Submit a review</button>
          </form>
        </div>
      </div>
  </ng-template>
</div>

<!-- Footer-->
<app-footer></app-footer>

