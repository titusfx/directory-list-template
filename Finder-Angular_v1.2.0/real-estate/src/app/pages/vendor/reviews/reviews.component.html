<main class="page-wrapper">
  <!-- Header-->
  <app-header id="top"></app-header>

  <!-- Page container-->
  <div class="container mt-5 mb-md-4 py-5">

    <!-- Title + Breadcrumb-->
    <app-breadcrumbs [breadcrumbItems]="breadCrumbItems"></app-breadcrumbs>

    <div class="row">
      <!-- Sidebar (Agent's info)-->
      <aside class="col-lg-3 col-md-4 mb-5">
        <div class="pe-lg-3"><img class="d-block rounded-circle mx-auto mx-md-0 mb-3" src="assets/img/avatars/31.jpg" width="120" alt="Floyd Miles">
          <h2 class="h4 text-center text-md-start mb-1">Floyd Miles</h2>
          <p class="text-center text-md-start mb-2 pb-1">Imperial Property Group Agent</p>
          <div class="d-flex justify-content-center justify-content-md-start border-bottom pb-4 mb-4"><span class="star-rating"><i class="star-rating-icon fi-star-filled active"></i><i class="star-rating-icon fi-star-filled active"></i><i class="star-rating-icon fi-star-filled active"></i><i class="star-rating-icon fi-star-filled active"></i><i class="star-rating-icon fi-star-filled active"></i></span><a class="ms-2" routerLink="/vendor/reviews">45 reviews</a>
          </div>
          <div class="border-bottom pb-4 mb-4">
            <p class="fs-sm mb-0">Hello! I will select the best accommodation for you. Amet libero morbi venenatis ut est. Iaculis leo ultricies nunc id ante adipiscing. Vel metus odio at faucibus ac. Neque id placerat et id ut acultricies commodo.</p>
            <div class="collapse" id="seeMore" #overviewcollapse="ngbCollapse" [(ngbCollapse)]="overviewColleaps">
              <p class="fs-sm mb-0">Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium dolor laudantium, totam rem aperiam, eaque ipsa quae ab illo inventore veritatis.</p>
            </div>
            <div class="text-center text-md-start"><a class="collapse-label collapsed fs-sm" (click)="overviewcollapse.toggle()"
              [attr.aria-expanded]="!overviewColleaps" data-bs-toggle="collapse" data-bs-label-collapsed="Show more" data-bs-label-expanded="Show less" role="button" aria-expanded="false" aria-controls="seeMore"></a></div>
          </div>
          <ul class="d-table list-unstyled mx-auto mx-md-0 mb-3 mb-md-4">
            <li class="mb-2"><a class="nav-link fw-normal p-0" href="tel:3025550107"><i class="fi-phone text-primary mt-n1 me-2 align-middle"></i>(302) 555-0107</a></li>
            <li><a class="nav-link fw-normal p-0" href="mailto:floyd_miles@email.com"><i class="fi-mail text-primary mt-n1 me-2 align-middle"></i>floyd_miles@email.com</a></li>
          </ul>
          <div class="text-center text-md-start"><a class="btn btn-icon btn-light-primary btn-xs rounded-circle shadow-sm me-2" href="javascript:void(0);"><i class="fi-facebook"></i></a><a class="btn btn-icon btn-light-primary btn-xs rounded-circle shadow-sm" href="javascript:void(0);"><i class="fi-linkedin"></i></a></div>
          <div class="text-center text-md-start pt-md-2 mt-4"><a class="btn btn-primary" href="javascript:void(0);" data-bs-toggle="modal" (click)="openModal(content)"><i class="fi-chat-left fs-sm me-2"></i>Direct message</a></div>
        </div>
      </aside>
      <!-- Content-->
      <!-- Content-->
      <div class="col-lg-9 col-md-8">
        <div class="d-flex align-items-center justify-content-between mb-4 pb-2">
          <h1 class="h2 text-center text-sm-start mb-0">Reviews (45)</h1><a class="btn btn-link btn-sm px-0" routerLink="/vendor/properties"><i class="fi-arrow-left fs-xs mt-0 me-2"></i>Back to Offers</a>
        </div>
        <!-- Reviews statistics-->
        <div class="d-flex align-items-center mb-2">
          <div class="text-nowrap fs-sm me-3">5<i class="fi-star text-muted ms-1 mt-n1"></i></div>
          <ngb-progressbar [value]="70" type="warning" class="w-100"></ngb-progressbar>
          <div class="flex-shrink-0 flex-grow-1 fs-sm text-end ps-2" style="width: 3rem;">70%</div>
        </div>
        <div class="d-flex align-items-center mb-2">
          <div class="text-nowrap fs-sm me-3">4<i class="fi-star text-muted ms-1 mt-n1"></i></div>
          <ngb-progressbar [value]="15" type="warning" class="w-100"></ngb-progressbar>
          <div class="flex-shrink-0 flex-grow-1 fs-sm text-end ps-2" style="width: 3rem;">15%</div>
        </div>
        <div class="d-flex align-items-center mb-2">
          <div class="text-nowrap fs-sm me-3">3<i class="fi-star text-muted ms-1 mt-n1"></i></div>
          <ngb-progressbar [value]="0" type="warning" class="w-100"></ngb-progressbar>
          <div class="flex-shrink-0 flex-grow-1 fs-sm text-end ps-2" style="width: 3rem;">0%</div>
        </div>
        <div class="d-flex align-items-center mb-2">
          <div class="text-nowrap fs-sm me-3">2<i class="fi-star text-muted ms-1 mt-n1"></i></div>
          <ngb-progressbar [value]="10" type="warning" class="w-100"></ngb-progressbar>
          <div class="flex-shrink-0 flex-grow-1 fs-sm text-end ps-2" style="width: 3rem;">10%</div>
        </div>
        <div class="d-flex align-items-center mb-2">
          <div class="text-nowrap fs-sm me-3">1<i class="fi-star text-muted ms-1 mt-n1"></i></div>
          <ngb-progressbar [value]="5" type="warning" class="w-100"></ngb-progressbar>
          <div class="flex-shrink-0 flex-grow-1 fs-sm text-end ps-2" style="width: 3rem;">5%</div>
        </div>
        <!-- Sorting + add review button-->
        <div class="d-flex flex-sm-row flex-column align-items-sm-center align-items-stretch justify-content-between border-bottom py-4 mt-3 mb-4">
          <div class="d-flex align-items-center me-sm-4 mb-sm-0 mb-3">
            <label class="me-2 pe-1 text-nowrap" for="review-sorting"><i class="fi-arrows-sort text-muted mt-n1 me-2"></i>Sort by:</label>
            <select class="form-select" id="review-sorting" (click)="SortFilter();">
              <option>Newest</option>
              <option value="Atitle">Oldest</option>
              <option value="Dtitle">Popular</option>
              <option value="Arating">High rating</option>
              <option value="Drating">Low rating</option>
            </select>
          </div><a class="btn btn-outline-primary" href="javascript:void(0);" data-bs-toggle="modal" (click)="openReviewModal(reviewContent)"><i class="fi-edit me-1"></i>Add review</a>
        </div>
        <!-- Review-->
        <div class="mb-4 pb-4 border-bottom" *ngFor="let data of aboutReviewData | sortBy:sortBy:sortField">
          <div class="d-flex justify-content-between mb-3">
            <div class="d-flex align-items-center pe-2"><img class="rounded-circle me-1" src="{{data.image}}" width="48" alt="Avatar">
              <div class="ps-2">
                <h6 class="fs-base mb-0">{{data.title}}</h6>
                <span class="star-rating">
                  <ngb-rating [rate]="data.rating" [readonly]="true" [max]="5" class="stars"></ngb-rating>
                </span>
              </div>
            </div><span class="text-muted fs-sm">{{data.date}}</span>
          </div>
          <p>{{data.content}}</p>
          <div class="d-flex align-items-center">
            <button class="btn-like" type="button"><i class="fi-like"></i><span>({{data.like}})</span></button>
            <div class="border-end me-1">&nbsp;</div>
            <button class="btn-dislike" type="button"><i class="fi-dislike"></i><span>({{data.unlike}})</span></button>
          </div>
        </div>

        <!-- Pagination-->
        <nav class="mt-2" aria-label="Reviews pagination">
          <ul class="pagination">
            <li class="page-item d-sm-none"><span class="page-link page-link-static">1 / 5</span></li>
            <li class="page-item active d-none d-sm-block" aria-current="page"><span class="page-link">1<span class="visually-hidden">(current)</span></span></li>
            <li class="page-item d-none d-sm-block"><a class="page-link" href="javascript:void(0);">2</a></li>
            <li class="page-item d-none d-sm-block"><a class="page-link" href="javascript:void(0);">3</a></li>
            <li class="page-item d-none d-sm-block">...</li>
            <li class="page-item d-none d-sm-block"><a class="page-link" href="javascript:void(0);">8</a></li>
            <li class="page-item"><a class="page-link" href="javascript:void(0);" aria-label="Next"><i class="fi-chevron-right"></i></a></li>
          </ul>
        </nav>
      </div>
    </div>

  </div>

  <!-- Direct Message Modal -->
<ng-template #content role="document" let-modal>
  <div class="modal-header">
    <h3 class="fs-base modal-title">Message to Floyd Miles</h3>
    <button class="btn-close ms-0" type="button" data-bs-dismiss="modal" (click)="modal.dismiss('Cross click')"></button>
  </div>
  <form class="modal-body needs-validation" novalidate (ngSubmit)="formSubmit()" [formGroup]="messageform">
    <div class="mb-4">
      <textarea class="form-control" rows="6" placeholder="Type your message here" required [ngClass]="{'is-invalid': formsubmit && formData['message'].errors}"></textarea>
      <div class="invalid-feedback">Please type your message before sending.</div>
    </div>
    <button class="btn btn-primary mb-2" type="submit"><i class="fi-send me-2"></i>Send message</button>
  </form>
</ng-template>

 <!-- Review modal-->
 <ng-template #reviewContent role="document" let-modal >
  <div class="modal-header d-block position-relative border-0 pb-0 px-sm-5 px-4">
    <h3 class="modal-title mt-4 text-center">Leave a review</h3>
    <button class="btn-close position-absolute top-0 end-0 mt-3 me-3" type="button" data-bs-dismiss="modal" aria-label="Close" (click)="modal.dismiss('Cross click')"></button>
  </div>
  <div class="modal-body px-sm-5 px-4">
    <form class="needs-validation" novalidate (ngSubmit)="validSubmit()" [formGroup]="validationform">
      <div class="mb-3">
        <label class="form-label" for="review-name">Name <span class='text-danger'>*</span></label>
        <input class="form-control" type="text" id="review-name" placeholder="Your name" required formControlName="name" [ngClass]="{'is-invalid': submit && form['name'].errors}">
        <div class="invalid-feedback">Please let us know your name.</div>
      </div>
      <div class="mb-3">
        <label class="form-label" for="review-email">Email <span class='text-danger'>*</span></label>
        <input class="form-control" type="email" id="review-email" placeholder="Your email address" required formControlName="email" [ngClass]="{'is-invalid': submit && form['email'].errors}">
        <div class="invalid-feedback">Please provide a valid email address.</div>
      </div>
      <div class="mb-3">
        <label class="form-label" for="review-rating">Rating <span class='text-danger'>*</span></label>
        <select class="form-select" id="review-rating" required formControlName="rating" [ngClass]="{'is-invalid': submit && form['rating'].errors}">
          <option value="" selected disabled>Choose rating</option>
          <option value="5 stars">5 stars</option>
          <option value="4 stars">4 stars</option>
          <option value="3 stars">3 stars</option>
          <option value="2 stars">2 stars</option>
          <option value="1 star">1 star</option>
        </select>
        <div class="invalid-feedback">Please rate the property.</div>
      </div>
      <div class="mb-4">
        <label class="form-label" for="review-text">Review <span class='text-danger'>*</span></label>
        <textarea class="form-control" id="review-text" rows="5" placeholder="Your review message" required formControlName="review" [ngClass]="{'is-invalid': submit && form['review'].errors}"></textarea>
        <div class="invalid-feedback">Please write your review.</div>
      </div>
      <button class="btn btn-primary d-block w-100 mb-4" type="">Submit a review</button>
    </form>
  </div>
 </ng-template>
</main>

 <!-- Footer-->
<app-footer></app-footer>
