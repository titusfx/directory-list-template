<main class="page-wrapper">
  <!-- Header-->
  <app-header id="top"></app-header>

   <!-- Page header-->
   <section class="container pt-5 mt-5">
    <!-- Breadcrumb-->
    <app-breadcrumbs [breadcrumbItems]="breadCrumbItems"></app-breadcrumbs>

    <div class="d-sm-flex align-items-center justify-content-between mb-4 pb-sm-2">
      <h1 class="h2 me-3 mb-sm-0">Berlin Business Hotel</h1>
      <div class="text-nowrap">
        <button class="btn btn-icon btn-light-primary btn-xs shadow-sm rounded-circle" type="button" placement="top" ngbTooltip="Add to Wishlist"><i class="fi-heart"></i></button>
        <div class="dropdown d-inline-block" placement="top" ngbTooltip="Share">
          <button class="btn btn-icon btn-light-primary btn-xs shadow-sm rounded-circle ms-2" type="button" data-bs-toggle="dropdown"><i class="fi-share"></i></button>
          <div class="dropdown-menu dropdown-menu-end my-1">
            <button class="dropdown-item" type="button"><i class="fi-facebook fs-base opacity-75 me-2"></i>Facebook</button>
            <button class="dropdown-item" type="button"><i class="fi-twitter fs-base opacity-75 me-2"></i>Twitter</button>
            <button class="dropdown-item" type="button"><i class="fi-instagram fs-base opacity-75 me-2"></i>Instagram</button>
          </div>
        </div>
      </div>
    </div>
    <!-- Nav pills-->
    <ul class="nav nav-pills border-bottom pb-3 mb-4">
      <li class="nav-item"><a class="nav-link d-flex align-items-center" routerLink="/catalog/single"><i class="fi-image me-2"></i>Gallery</a></li>
      <li class="nav-item"><a class="nav-link d-flex align-items-center" routerLink="/catalog/single-info"><i class="fi-info-circle me-2"></i>Info</a></li>
      <li class="nav-item"><a class="nav-link d-flex align-items-center active" routerLink="/catalog/single-reviews"><i class="fi-edit me-2"></i>Reviews</a></li>
    </ul>
  </section>

  <!-- Page content-->
  <section class="container pb-5 mb-md-4">
    <div class="row">
      <!-- Left column-->
      <div class="col-md-7 mb-md-0 mb-4 pb-md-0 pb-2">
        <h2 class="h4 mb-4">Average rating</h2>
        <div class="row mb-md-5 mb-4">
          <!-- Rating breakdown-->
          <div class="col-sm-8 order-sm-1 order-2">
            <div class="d-flex align-items-center mb-2 fs-sm">
              <div class="text-nowrap">5<i class="fi-star mt-n1 ms-1 align-middle opacity-70"></i></div>
              <div class="progress w-100 mx-3">
                <ngb-progressbar [value]="70" type="warning" class="w-100"></ngb-progressbar>
              </div><span style="min-width: 48px;">80%</span>
            </div>
            <div class="d-flex align-items-center mb-2 fs-sm">
              <div class="text-nowrap">4<i class="fi-star mt-n1 ms-1 align-middle opacity-70"></i></div>
              <div class="progress w-100 mx-3">
                <ngb-progressbar [value]="10" type="warning" class="w-100"></ngb-progressbar>
              </div><span style="min-width: 48px;">10%</span>
            </div>
            <div class="d-flex align-items-center mb-2 fs-sm">
              <div class="text-nowrap">3<i class="fi-star mt-n1 ms-1 align-middle opacity-70"></i></div>
              <div class="progress w-100 mx-3">
                <ngb-progressbar [value]="0" type="warning" class="w-100"></ngb-progressbar>
              </div><span style="min-width: 48px;">0%</span>
            </div>
            <div class="d-flex align-items-center mb-2 fs-sm">
              <div class="text-nowrap">2<i class="fi-star mt-n1 ms-1 align-middle opacity-70"></i></div>
              <div class="progress w-100 mx-3">
                <ngb-progressbar [value]="0" type="warning" class="w-100"></ngb-progressbar>
              </div><span style="min-width: 48px;">0%</span>
            </div>
            <div class="d-flex align-items-center mb-2 fs-sm">
              <div class="text-nowrap">1<i class="fi-star mt-n1 ms-1 align-middle opacity-70"></i></div>
              <div class="progress w-100 mx-3">
                <ngb-progressbar [value]="10" type="warning" class="w-100"></ngb-progressbar>
              </div><span style="min-width: 48px;">10%</span>
            </div>
          </div>
          <!-- Score-->
          <div class="col-sm-4 order-sm-2 order-1 mb-sm-0 mb-3 text-center">
            <h5 class="display-4 mb-2">4,7</h5>
            <div><span class="star-rating"><i class="star-rating-icon fi-star-filled active"></i><i class="star-rating-icon fi-star-filled active"></i><i class="star-rating-icon fi-star-filled active"></i><i class="star-rating-icon fi-star-filled active"></i><i class="star-rating-icon fi-star-filled active"></i></span>
            </div><span class="fs-sm">48 reviews</span>
          </div>
        </div>
        <!-- Add review btn + Reviews sort-->
        <div class="d-flex flex-sm-row flex-column align-items-sm-center justify-content-between mb-4 pb-4 border-bottom"><a class="btn btn-outline-primary rounded-pill mb-sm-0 mb-3" href="javascript:void(0" (click)="openModal(reviewContent)" data-bs-toggle="modal"><i class="fi-edit mt-n1 me-1 align-middle"></i>Add review</a>
          <div class="d-flex align-items-center ms-sm-4">
            <label class="d-inline-block me-2 pe-1 text-muted text-nowrap" for="reviews-sort"><i class="fi-arrows-sort mt-n1 me-1 align-middle opacity-80"></i>Sort by:</label>
            <select class="form-select" id="reviews-sort" style="min-width: 180px;" (click)="SortFilter();">
              <option value="">Newest</option>
              <option value="Aname">Oldest</option>
              <option value="Dname">Popular</option>
              <option value="Arating">High rating</option>
              <option value="Drating">Low rating</option>
            </select>
          </div>
        </div>
        <!-- Review-->
        <div class="mb-4 pb-4 border-bottom" *ngFor="let data of reviewData | sortBy:sortBy:sortField">
          <div class="d-flex justify-content-between mb-3">
            <div class="d-flex align-items-center pe-2"><img class="rounded-circle me-1" src="{{data.profile}}" width="48" alt="Avatar">
              <div class="ps-2">
                <h6 class="fs-base mb-0">{{data.name}}</h6>
                <span class="star-rating">
                  <ngb-rating [rate]="data.rating" [readonly]="true" [max]="5" class="stars"></ngb-rating>
                </span>
              </div>
            </div><span class="text-muted fs-sm">{{data.date}}</span>
          </div>
          <p>{{data.content}}</p>
          <div class="d-flex align-items-center">
            <button class="btn-like" type="button"><i class="fi-like"></i><span>({{data.like}})</span></button>
            <div class="border-end me-1">&nbsp;</div>
            <button class="btn-dislike" type="button"><i class="fi-dislike"></i><span>({{data.unlike}})</span></button>
          </div>
        </div>
        <!-- Review pagination + Add review btn-->
        <div class="d-flex align-items-center justify-content-between">
          <nav aria-label="Reviews pagination">
            <ul class="pagination mb-0">
              <li class="page-item d-sm-none"><span class="page-link page-link-static">1 / 8</span></li>
              <li class="page-item active d-none d-sm-block" aria-current="page"><span class="page-link">1<span class="visually-hidden">(current)</span></span></li>
              <li class="page-item d-none d-sm-block"><a class="page-link" href="javascript:void(0);">2</a></li>
              <li class="page-item d-none d-sm-block"><a class="page-link" href="javascript:void(0);">3</a></li>
              <li class="page-item d-none d-sm-block">...</li>
              <li class="page-item d-none d-sm-block"><a class="page-link" href="javascript:void(0);">8</a></li>
              <li class="page-item"><a class="page-link" href="javascript:void(0);" aria-label="Next"><i class="fi-chevron-right"></i></a></li>
            </ul>
          </nav><a class="btn btn-outline-primary rounded-pill ms-4" href="javascript:void(0" (click)="openModal(reviewContent)" data-bs-toggle="modal"><i class="fi-edit mt-n1 me-1 align-middle"></i>Add review</a>
        </div>
      </div>
      <!-- Sidebar-->
      <aside class="col-md-5">
        <!-- Place card-->
        <div class="card mb-4 p-2 shadow-sm">
          <div class="card-body">
            <!-- Place info-->
            <div class="d-flex align-items-start mb-3 pb-2 border-bottom"><img src="assets/img/city-guide/brands/hotel.svg" width="60" alt="Thumbnail">
              <div class="ps-2 ms-1">
                <h3 class="h5 mb-2"> Berlin Business Hotel</h3>
                <ul class="list-unstyled d-flex flex-wrap fs-sm">
                  <li class="me-2 mb-1 pe-1"><i class="fi-star-filled mt-n1 me-1 text-warning align-middle opacity-70"></i><b>4.9 </b>(48)</li>
                  <li class="me-2 mb-1 pe-1"><i class="fi-wallet mt-n1 me-1 align-middle opacity-70"></i>$$</li>
                  <li class="me-2 mb-1 pe-1"><i class="fi-map-pin mt-n1 me-1 align-middle opacity-70"></i>1.4 km from center</li>
                </ul>
              </div>
            </div>
            <!-- Place contacts-->
            <div class="mb-3 pb-3 border-bottom">
              <h4 class="h5 mb-2">Contacts:</h4>
              <ul class="nav flex-column">
                <li class="nav-item mb-2"><a class="nav-link p-0 fw-normal d-flex align-items-start" href="javascript:void(0);"><i class="fi-map-pin mt-1 me-2 align-middle opacity-70"></i>Ollenhauer Str. 29, 10118, Berlin</a></li>
                <li class="nav-item mb-2"><a class="nav-link d-inline-block p-0 fw-normal d-inline-flex align-items-start" href="tel:3025550107"><i class="fi-phone mt-1 me-2 align-middle opacity-70"></i>(302) 555-0107</a>, <a class="nav-link d-inline-block p-0 fw-normal" href="tel:3025550208">(302) 555-0208</a></li>
                <li class="nav-item mb-2"><a class="nav-link p-0 fw-normal d-flex align-items-start" href="javascript:void(0);"><i class="fi-globe mt-1 me-2 align-middle opacity-60"></i>bb-hotel.com</a></li>
                <li class="nav-item"><a class="nav-link p-0 fw-normal d-flex align-items-start" href="mailto:bb-hotel@example.com"><i class="fi-mail mt-1 me-2 align-middle opacity-70"></i>bb-hotel@example.com</a></li>
              </ul>
            </div>
            <!-- Place pricing-->
            <div class="mb-3 pb-4 border-bottom">
              <div class="row row-cols-1">
                <div class="col mb-3">
                  <h4 class="h5 mb-0"><span class="fs-4">$50-100&nbsp;</span><span class="fs-base fw-normal text-body">/night</span></h4>
                </div>
                <div class="col"><a class="btn btn-primary btn-lg rounded-pill w-sm-auto w-100" href="javascript:void(0);">Book now<i class="fi-chevron-right fs-sm ms-2"></i></a></div>
              </div>
            </div>
            <!-- Place following-->
            <div class="d-flex align-items-center">
              <h4 class="h5 mb-0 me-3">Follow:</h4>
              <div class="text-nowrap"><a class="btn btn-icon btn-light-primary btn-xs shadow-sm rounded-circle me-2" href="javascript:void(0);"><i class="fi-facebook"></i></a><a class="btn btn-icon btn-light-primary btn-xs shadow-sm rounded-circle me-2" href="javascript:void(0);"><i class="fi-instagram"></i></a><a class="btn btn-icon btn-light-primary btn-xs shadow-sm rounded-circle" href="javascript:void(0);"><i class="fi-twitter"></i></a></div>
            </div>
          </div>
        </div>
        <!-- Location (Map)-->
        <div class="position-relative"><img class="rounded-3" src="assets/img/city-guide/single/map-sm.jpg" alt="Map">
          <div class="d-flex w-100 h-100 flex-column align-items-center justify-content-center position-absolute top-0 start-0"><img class="d-block mx-auto mb-4 rounded-circle bg-white shadow" src="assets/img/city-guide/brands/hotel.svg" width="40" alt="Place logo"><a class="btn btn-primary rounded-pill stretched-link" href="javascript:void(0);" (click)="openMapModal(content)" data-iframe="true" data-bs-toggle="lightbox"><i class="fi-route me-2"></i>Get directions</a></div>
        </div>
      </aside>
    </div>
  </section>


 <!-- Review modal-->
 <ng-template #reviewContent role="document" let-modal>
    <div class="modal-content">
      <div class="modal-header d-block position-relative border-0 pb-0 px-sm-5 px-4">
        <h3 class="modal-title mt-4 text-center">Leave a review</h3>
        <button class="btn-close position-absolute top-0 end-0 mt-3 me-3" type="button" data-bs-dismiss="modal" aria-label="Close" (click)="modal.dismiss('Cross click')"></button>
      </div>
      <div class="modal-body px-sm-5 px-4">
        <form class="needs-validation" novalidate (ngSubmit)="validSubmit()" [formGroup]="validationform">
          <div class="mb-3">
            <label class="form-label" for="review-name">Name <span class='text-danger'>*</span></label>
            <input class="form-control" type="text" id="review-name" placeholder="Your name" required formControlName="name" [ngClass]="{'is-invalid': submit && form['name'].errors}">
            <div class="invalid-feedback">Please let us know your name.</div>
          </div>
          <div class="mb-3">
            <label class="form-label" for="review-email">Email <span class='text-danger'>*</span></label>
            <input class="form-control" type="email" id="review-email" placeholder="Your email address" required formControlName="email" [ngClass]="{'is-invalid': submit && form['email'].errors}">
            <div class="invalid-feedback">Please provide a valid email address.</div>
          </div>
          <div class="mb-3">
            <label class="form-label" for="review-rating">Rating <span class='text-danger'>*</span></label>
            <select class="form-control form-select" id="review-rating" required formControlName="rating" [ngClass]="{'is-invalid': submit && form['rating'].errors}">
              <option value="" selected disabled hidden>Choose rating</option>
              <option value="5 stars">5 stars</option>
              <option value="4 stars">4 stars</option>
              <option value="3 stars">3 stars</option>
              <option value="2 stars">2 stars</option>
              <option value="1 star">1 star</option>
            </select>
            <div class="invalid-feedback">Please rate the property.</div>
          </div>
          <div class="mb-4">
            <label class="form-label" for="review-text">Review <span class='text-danger'>*</span></label>
            <textarea class="form-control" id="review-text" rows="5" placeholder="Your review message" required formControlName="review" [ngClass]="{'is-invalid': submit && form['review'].errors}"></textarea>
            <div class="invalid-feedback">Please write your review.</div>
          </div>
          <button class="btn btn-primary d-block rounded-pill w-100 mb-4" type="submit">Submit a review</button>
        </form>
      </div>
    </div>
 </ng-template>

 <!-- Map modal-->
 <ng-template #content role="document" let-modal>
  <div class="modal-header text-end position-relative bg-dark border-0 p-4">
    <button class="btn-close btn-close-white me-1" type="button" data-bs-dismiss="modal" aria-label="Close" (click)="modal.dismiss('Cross click')"></button>
  </div>
  <div class="modal-body p-0 bg-dark">
    <agm-map [latitude]="latitude" [longitude]="longitude" class="interactive-map rounded-3" style="height: 100%"></agm-map>
  </div>
  </ng-template>

  </main>
  <!-- Footer-->
<app-footer></app-footer>

